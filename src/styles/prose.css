@plugin "@tailwindcss/typography";

@layer base {
  /* Customize Tailwind CSS's typography settings */
  .prose-auto {
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      text-wrap: pretty;
    }

    h2 {
      --tw-prose-headings: oklch(70.96% 0.147 25.44);
    }

    h3 {
      --tw-prose-headings: oklch(80.72% 0.1094 30.89);
    }

    h4,
    h5,
    h6 {
      --tw-prose-headings: --color-gray-100;
    }
  }
}

@layer components {
  .prose-auto {
    @apply prose prose-gray prose-invert;
    color: var(--color-default-foreground);
    max-width: none;
    line-height: 1.67;

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      a:has(.icon--autolink-heading) {
        @apply hyperlink;
        /* TailwindCSS's slate-500 and sky-300 */
        --hyperlink-foreground-resting: oklch(55.4% 0.046 257.417);
        --hyperlink-foreground-hover: oklch(82.8% 0.111 230.318);
        --hyperlink-outline-focus: oklch(82.8% 0.111 230.318);
        border-radius: var(--radius-sm);
        margin-inline: calc(var(--spacing) * 0.25);

        @variant motion-safe {
          @apply transition-colors duration-150;
        }

        .icon--autolink-heading {
          @apply icon-masked;
          --svg: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z'/%3E%3Cpath fill='%23000' d='M9.686 2.512a1.5 1.5 0 0 1 1.303 1.674L10.637 7h3.976l.399-3.186a1.5 1.5 0 0 1 2.977.372L17.637 7H20a1.5 1.5 0 0 1 0 3h-2.738l-.5 4H19.5a1.5 1.5 0 0 1 0 3h-3.113l-.398 3.186a1.5 1.5 0 0 1-2.977-.372L13.363 17H9.388l-.398 3.186a1.5 1.5 0 1 1-2.977-.372L6.363 17H4.5a1.5 1.5 0 1 1 0-3h2.238l.5-4H5a1.5 1.5 0 1 1 0-3h2.613l.399-3.186A1.5 1.5 0 0 1 9.686 2.51ZM13.74 14l.5-4h-3.977l-.5 4z'/%3E%3C/g%3E%3C/svg%3E");
          height: 0.8em;
          width: 0.8em;
          vertical-align: 0.1em;
        }
      }
    }

    a {
      @apply hyperlink font-medium hyperlink-underline;

      .icon--external-link {
        @apply icon-masked;
        --svg: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 256 256'%3E%3Cpath fill='%23000' d='M228 104a12 12 0 0 1-24 0V69l-59.51 59.51a12 12 0 0 1-17-17L187 52h-35a12 12 0 0 1 0-24h64a12 12 0 0 1 12 12Zm-44 24a12 12 0 0 0-12 12v64H52V84h64a12 12 0 0 0 0-24H48a20 20 0 0 0-20 20v128a20 20 0 0 0 20 20h128a20 20 0 0 0 20-20v-68a12 12 0 0 0-12-12'/%3E%3C/svg%3E");
        margin-inline: calc(var(--spacing) * 0.5);
        display: inline-block;
        height: 0.9em;
        width: 0.9em;
        vertical-align: 0.05em;
        opacity: 0.5;
      }
    }
  }
}
